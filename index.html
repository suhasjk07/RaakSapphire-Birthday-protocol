<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RaakSapphire Birthday Protocol</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --neon-cyan: #00f3ff;
            --neon-magenta: #ff00f7;
            --neon-yellow: #ffed00;
            --deep-purple: #1a0033;
            --dark-bg: #0a0015;
            --card-bg: rgba(26, 0, 51, 0.6);
            --glass-border: rgba(0, 243, 255, 0.3);
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: linear-gradient(135deg, #0a0015 0%, #1a0033 50%, #0a0015 100%);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            transition: overflow 0.3s;
        }

        body.modal-open {
            overflow: hidden;
        }

        /* Animated Background */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .floating-orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(40px);
            opacity: 0.15;
            animation: float 20s infinite ease-in-out;
        }

        .orb-1 {
            width: 300px;
            height: 300px;
            background: var(--neon-cyan);
            top: 20%;
            left: 10%;
            animation-delay: 0s;
        }

        .orb-2 {
            width: 400px;
            height: 400px;
            background: var(--neon-magenta);
            top: 60%;
            right: 15%;
            animation-delay: 5s;
        }

        .orb-3 {
            width: 250px;
            height: 250px;
            background: var(--neon-yellow);
            bottom: 10%;
            left: 40%;
            animation-delay: 10s;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            25% { transform: translate(50px, -50px) scale(1.1); }
            50% { transform: translate(-30px, 50px) scale(0.9); }
            75% { transform: translate(30px, 30px) scale(1.05); }
        }

        /* Header */
        .header {
            background: rgba(10, 0, 21, 0.8);
            backdrop-filter: blur(10px);
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid var(--glass-border);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            font-family: 'Orbitron', sans-serif;
            font-size: 28px;
            font-weight: 900;
            background: linear-gradient(90deg, var(--neon-cyan), var(--neon-magenta));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-transform: uppercase;
            letter-spacing: 3px;
            text-shadow: 0 0 20px rgba(0, 243, 255, 0.5);
        }

        .header-controls {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .live-time {
            font-family: 'Orbitron', sans-serif;
            font-size: 18px;
            color: var(--neon-cyan);
            border: 2px solid var(--neon-cyan);
            padding: 8px 16px;
            border-radius: 20px;
            background: rgba(0, 243, 255, 0.05);
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.3);
        }

        .admin-lock {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--neon-magenta), var(--neon-cyan));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .admin-lock:hover {
            transform: scale(1.1);
            box-shadow: 0 0 25px var(--neon-magenta);
        }

        .admin-lock::before {
            content: 'üîí';
            font-size: 20px;
        }

        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* Calendar Widget */
        .calendar-widget {
            background: var(--card-bg);
            border: 2px solid var(--glass-border);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 40px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 243, 255, 0.1);
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .calendar-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 24px;
            color: var(--neon-cyan);
        }

        .calendar-nav {
            display: flex;
            gap: 10px;
        }

        .calendar-btn {
            background: rgba(0, 243, 255, 0.1);
            border: 2px solid var(--neon-cyan);
            color: var(--neon-cyan);
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Rajdhani', sans-serif;
            font-weight: 600;
            transition: all 0.3s;
        }

        .calendar-btn:hover {
            background: var(--neon-cyan);
            color: var(--deep-purple);
            box-shadow: 0 0 20px var(--neon-cyan);
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
            margin-top: 20px;
        }

        .calendar-day-header {
            text-align: center;
            font-weight: 600;
            color: var(--neon-magenta);
            padding: 10px;
        }

        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .calendar-day:hover {
            background: rgba(0, 243, 255, 0.1);
            border-color: var(--neon-cyan);
        }

        .calendar-day.today {
            background: linear-gradient(135deg, var(--neon-cyan), var(--neon-magenta));
            color: var(--deep-purple);
            font-weight: 700;
        }

        .calendar-day.birthday::after {
            content: 'üéÇ';
            position: absolute;
            top: 2px;
            right: 2px;
            font-size: 12px;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 20px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .action-btn {
            flex: 1;
            min-width: 200px;
            background: linear-gradient(135deg, var(--neon-cyan), var(--neon-magenta));
            border: none;
            padding: 16px 32px;
            border-radius: 12px;
            font-family: 'Orbitron', sans-serif;
            font-size: 16px;
            font-weight: 700;
            color: #fff;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 4px 15px rgba(0, 243, 255, 0.3);
            position: relative;
            overflow: hidden;
        }

        .action-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .action-btn:active::before {
            width: 300px;
            height: 300px;
        }

        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 243, 255, 0.5);
        }

        .action-btn:active {
            transform: translateY(-1px);
        }

        /* Birthday Feed */
        .birthday-feed {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .birthday-card {
            background: var(--card-bg);
            border: 2px solid var(--glass-border);
            border-radius: 20px;
            padding: 25px;
            backdrop-filter: blur(10px);
            transition: all 0.4s;
            position: relative;
            overflow: hidden;
        }

        .birthday-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, transparent, rgba(0, 243, 255, 0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }

        .birthday-card:hover::before {
            transform: translateX(100%);
        }

        .birthday-card:hover {
            transform: translateY(-10px);
            border-color: var(--neon-cyan);
            box-shadow: 0 15px 40px rgba(0, 243, 255, 0.3);
        }

        .birthday-photo {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            margin: 0 auto 20px;
            border: 3px solid var(--neon-cyan);
            object-fit: cover;
            box-shadow: 0 0 20px rgba(0, 243, 255, 0.5);
            display: block;
        }

        .birthday-name {
            font-family: 'Orbitron', sans-serif;
            font-size: 22px;
            text-align: center;
            margin-bottom: 10px;
            color: var(--neon-cyan);
        }

        .birthday-date {
            text-align: center;
            color: var(--neon-magenta);
            font-size: 16px;
            margin-bottom: 15px;
        }

        .birthday-wishes {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            font-size: 14px;
            line-height: 1.6;
        }

        .gift-section {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        .gift-item {
            padding: 8px 16px;
            background: linear-gradient(135deg, var(--neon-magenta), var(--neon-yellow));
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            color: var(--deep-purple);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--card-bg);
            border: 2px solid var(--glass-border);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            animation: modalSlideIn 0.4s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--neon-magenta);
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            color: #fff;
            transition: all 0.3s;
        }

        .modal-close:hover {
            transform: rotate(90deg);
            box-shadow: 0 0 20px var(--neon-magenta);
        }

        .modal-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 28px;
            margin-bottom: 25px;
            background: linear-gradient(90deg, var(--neon-cyan), var(--neon-magenta));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            color: var(--neon-cyan);
            font-weight: 600;
        }

        .form-input, .form-textarea, select.form-input {
            width: 100%;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid var(--glass-border);
            border-radius: 10px;
            padding: 12px 16px;
            color: #fff;
            font-family: 'Rajdhani', sans-serif;
            font-size: 16px;
            transition: all 0.3s;
        }

        .form-input:focus, .form-textarea:focus, select.form-input:focus {
            outline: none;
            border-color: var(--neon-cyan);
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.3);
        }

        /* Select dropdown styling */
        select.form-input {
            background: linear-gradient(135deg, rgba(0, 100, 255, 0.3), rgba(0, 50, 150, 0.5));
            border: 2px solid var(--neon-cyan);
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%2300f3ff' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 16px center;
            padding-right: 40px;
        }

        select.form-input option {
            background: #001a4d;
            color: #fff;
            padding: 10px;
        }

        /* File input styling */
        input[type="file"].form-input {
            cursor: pointer;
            padding: 8px 12px;
        }

        input[type="file"].form-input::file-selector-button {
            background: linear-gradient(135deg, var(--neon-cyan), var(--neon-magenta));
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            color: #fff;
            font-family: 'Rajdhani', sans-serif;
            font-weight: 600;
            cursor: pointer;
            margin-right: 10px;
            transition: all 0.3s;
        }

        input[type="file"].form-input::file-selector-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 243, 255, 0.4);
        }

        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }

        .submit-btn {
            background: linear-gradient(135deg, var(--neon-cyan), var(--neon-magenta));
            border: none;
            padding: 14px 32px;
            border-radius: 10px;
            font-family: 'Orbitron', sans-serif;
            font-size: 16px;
            font-weight: 700;
            color: #fff;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s;
            text-transform: uppercase;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 243, 255, 0.5);
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--card-bg);
            border: 2px solid var(--neon-cyan);
            border-radius: 15px;
            padding: 20px 25px;
            min-width: 320px;
            max-width: 400px;
            z-index: 2000;
            box-shadow: 0 8px 32px rgba(0, 243, 255, 0.4);
            backdrop-filter: blur(10px);
            transform: translateX(500px);
            transition: transform 0.4s ease-out;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 18px;
            color: var(--neon-cyan);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .notification-body {
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 10px;
        }

        .notification-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: linear-gradient(135deg, var(--neon-cyan), var(--neon-magenta));
            padding: 8px 16px;
            border-radius: 8px;
            text-decoration: none;
            color: #fff;
            font-weight: 600;
            font-size: 13px;
            margin-top: 8px;
            transition: all 0.3s;
        }

        .notification-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 243, 255, 0.5);
        }

        .notification-close {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            color: var(--neon-magenta);
            font-size: 20px;
            cursor: pointer;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .notification-close:hover {
            transform: rotate(90deg);
        }

        /* Gift Box */
        .gift-box-container {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 500;
        }

        .gift-box {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--neon-magenta), var(--neon-yellow));
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 40px;
            box-shadow: 0 8px 32px rgba(255, 0, 247, 0.4);
            transition: all 0.3s;
            animation: giftPulse 2s infinite;
        }

        .gift-box:hover {
            transform: scale(1.1) rotate(10deg);
        }

        @keyframes giftPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Admin Dashboard */
        .admin-panel {
            background: var(--card-bg);
            border: 2px solid var(--neon-magenta);
            border-radius: 20px;
            padding: 30px;
            margin-top: 20px;
        }

        .admin-section {
            margin-bottom: 30px;
        }

        .admin-section-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 20px;
            color: var(--neon-magenta);
            margin-bottom: 15px;
            border-bottom: 2px solid var(--neon-magenta);
            padding-bottom: 10px;
        }

        .employee-list {
            display: grid;
            gap: 15px;
        }

        .employee-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .delete-btn {
            background: rgba(255, 0, 0, 0.3);
            border: 1px solid #ff0000;
            color: #ff6b6b;
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .delete-btn:hover {
            background: #ff0000;
            color: #fff;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                gap: 15px;
                padding: 15px 20px;
            }

            .logo {
                font-size: 22px;
            }

            .calendar-grid {
                gap: 5px;
            }

            .birthday-feed {
                grid-template-columns: 1fr;
            }

            .action-buttons {
                flex-direction: column;
            }

            .action-btn {
                min-width: 100%;
            }
        }

        /* File Upload Preview */
        .image-preview {
            width: 100%;
            max-height: 200px;
            object-fit: cover;
            border-radius: 10px;
            margin-top: 10px;
            border: 2px solid var(--neon-cyan);
        }

        /* Google Drive Status */
        .gdrive-status {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            border: 1px solid var(--glass-border);
            cursor: pointer;
            transition: all 0.3s;
        }

        .gdrive-status:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--neon-cyan);
        }

        .gdrive-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #00ff00;
            box-shadow: 0 0 10px #00ff00;
            animation: blink 2s infinite;
        }

        .gdrive-indicator.disconnected {
            background: #ff9900;
            box-shadow: 0 0 10px #ff9900;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        .gdrive-text {
            font-size: 14px;
            color: var(--neon-cyan);
            font-weight: 500;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--dark-bg);
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, var(--neon-cyan), var(--neon-magenta));
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--neon-cyan);
        }

        /* Birthday Party Mode */
        .party-mode {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 3000;
            display: none;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .party-mode.active {
            display: flex;
        }

        .party-content {
            text-align: center;
            max-width: 800px;
            padding: 40px;
        }

        .party-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 48px;
            background: linear-gradient(90deg, var(--neon-cyan), var(--neon-magenta), var(--neon-yellow));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 30px;
            animation: partyGlow 2s infinite;
        }

        @keyframes partyGlow {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.5); }
        }

        .party-photo {
            width: 250px;
            height: 250px;
            border-radius: 50%;
            margin: 0 auto 30px;
            border: 5px solid var(--neon-cyan);
            object-fit: cover;
            box-shadow: 0 0 50px rgba(0, 243, 255, 0.8);
            animation: photoRotate 10s linear infinite;
        }

        @keyframes photoRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .party-message {
            font-size: 24px;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .party-close {
            background: linear-gradient(135deg, var(--neon-cyan), var(--neon-magenta));
            border: none;
            padding: 14px 32px;
            border-radius: 10px;
            font-family: 'Orbitron', sans-serif;
            font-size: 16px;
            font-weight: 700;
            color: #fff;
            cursor: pointer;
            margin-top: 20px;
        }

        /* Celebration Effects */
        .celebration-particle {
            position: fixed;
            pointer-events: none;
            z-index: 9999;
        }

        .flower-particle {
            font-size: 30px;
            animation: explodeFlower 2s ease-out forwards;
        }

        .star-particle {
            width: 10px;
            height: 10px;
            background: var(--neon-yellow);
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
            animation: starTwinkle 1.5s ease-out forwards;
        }

        @keyframes explodeFlower {
            0% {
                transform: translate(0, 0) scale(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) scale(1.5) rotate(360deg);
                opacity: 0;
            }
        }

        @keyframes starTwinkle {
            0% {
                transform: translate(0, 0) scale(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) scale(1) rotate(720deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <!-- Background Animation -->
    <div class="bg-animation">
        <div class="floating-orb orb-1"></div>
        <div class="floating-orb orb-2"></div>
        <div class="floating-orb orb-3"></div>
    </div>

    <!-- Header -->
    <div class="header">
        <div class="logo">‚ö° RaakSapphire Birthday Protocol</div>
        <div class="header-controls">
            <div class="gdrive-status" id="gdriveStatus" title="Click to configure Google Drive">
                <div class="gdrive-indicator" id="gdriveIndicator"></div>
                <div class="gdrive-text" id="gdriveText">Drive Ready</div>
            </div>
            <div class="live-time" id="liveTime">00:00:00</div>
            <div class="admin-lock" id="adminLock"></div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Calendar Widget -->
        <div class="calendar-widget">
            <div class="calendar-header">
                <div class="calendar-title" id="calendarTitle">February 2026</div>
                <div class="calendar-nav">
                    <button class="calendar-btn" id="prevMonth">‚Üê Prev</button>
                    <button class="calendar-btn" id="nextMonth">Next ‚Üí</button>
                </div>
            </div>
            <div class="calendar-grid" id="calendarGrid"></div>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
            <button class="action-btn" id="addBirthdayBtn">üéÇ Add Birthday</button>
            <button class="action-btn" id="uploadPhotoBtn">üì∏ Upload Photo</button>
            <button class="action-btn" id="sendGiftBtn">üéÅ Send Digital Gift</button>
            <button class="action-btn" id="viewGiftsBtn">üéÅ View Gift Box</button>
        </div>

        <!-- Birthday Feed -->
        <div class="birthday-feed" id="birthdayFeed"></div>
    </div>

    <!-- Gift Box -->
    <div class="gift-box-container">
        <div class="gift-box" id="giftBox">üéÅ</div>
    </div>

    <!-- Add Birthday Modal -->
    <div class="modal" id="addBirthdayModal">
        <div class="modal-content">
            <button class="modal-close" id="closeAddBirthday">√ó</button>
            <h2 class="modal-title">Add Birthday</h2>
            <form id="addBirthdayForm">
                <div class="form-group">
                    <label class="form-label">Employee Name</label>
                    <input type="text" class="form-input" id="employeeName" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Birthday Date</label>
                    <input type="date" class="form-input" id="birthdayDate" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Upload Photo</label>
                    <input type="file" class="form-input" id="birthdayPhoto" accept="image/*">
                    <img id="photoPreview" class="image-preview" style="display: none;">
                </div>
                <div class="form-group">
                    <label class="form-label">Birthday Wish</label>
                    <textarea class="form-textarea" id="birthdayWish" placeholder="Write a special birthday message..."></textarea>
                </div>
                <button type="submit" class="submit-btn">Add to Protocol</button>
            </form>
        </div>
    </div>

    <!-- Upload Photo Modal -->
    <div class="modal" id="uploadPhotoModal">
        <div class="modal-content">
            <button class="modal-close" id="closeUploadPhoto">√ó</button>
            <h2 class="modal-title">Upload Celebration Photo</h2>
            <form id="uploadPhotoForm">
                <div class="form-group">
                    <label class="form-label">Select Employee</label>
                    <select class="form-input" id="photoEmployee" required></select>
                </div>
                <div class="form-group">
                    <label class="form-label">Upload Photo</label>
                    <input type="file" class="form-input" id="celebrationPhoto" accept="image/*" required>
                    <img id="celebrationPreview" class="image-preview" style="display: none;">
                </div>
                <div class="form-group">
                    <label class="form-label">Caption</label>
                    <input type="text" class="form-input" id="photoCaption" placeholder="Add a caption...">
                </div>
                <button type="submit" class="submit-btn">Upload Photo</button>
            </form>
        </div>
    </div>

    <!-- Send Gift Modal -->
    <div class="modal" id="sendGiftModal">
        <div class="modal-content">
            <button class="modal-close" id="closeSendGift">√ó</button>
            <h2 class="modal-title">Send Digital Gift</h2>
            <form id="sendGiftForm">
                <div class="form-group">
                    <label class="form-label">Select Employee</label>
                    <select class="form-input" id="giftEmployee" required></select>
                </div>
                <div class="form-group">
                    <label class="form-label">Gift Type</label>
                    <select class="form-input" id="giftType" required>
                        <option value="">üéÅ Choose a gift...</option>
                        <option value="Amazon Voucher">üí≥ Amazon Voucher</option>
                        <option value="Funny GIF">üòÇ Funny GIF</option>
                        <option value="Emoji Collection">üòç Emoji Collection</option>
                        <option value="Birthday Song">üéµ Birthday Song</option>
                        <option value="Special Message">üíå Special Message</option>
                        <option value="Coffee Voucher">‚òï Coffee Voucher</option>
                        <option value="Movie Tickets">üé¨ Movie Tickets</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Gift Value/Content</label>
                    <input type="text" class="form-input" id="giftValue" placeholder="e.g., $50, link to GIF, message text...">
                </div>
                <div class="form-group">
                    <label class="form-label">Your Name</label>
                    <input type="text" class="form-input" id="giftSender" required>
                </div>
                <button type="submit" class="submit-btn">Send Gift</button>
            </form>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div class="modal" id="adminLoginModal">
        <div class="modal-content">
            <button class="modal-close" id="closeAdminLogin">√ó</button>
            <h2 class="modal-title">üîê Admin Access</h2>
            <form id="adminLoginForm">
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <input type="password" class="form-input" id="adminPassword" placeholder="Enter admin password..." required>
                </div>
                <button type="submit" class="submit-btn">Unlock Dashboard</button>
            </form>
        </div>
    </div>

    <!-- Admin Dashboard Modal -->
    <div class="modal" id="adminDashboard">
        <div class="modal-content" style="max-width: 900px;">
            <button class="modal-close" id="closeAdminDashboard">√ó</button>
            <h2 class="modal-title">Admin Dashboard</h2>
            
            <div class="admin-panel">
                <div class="admin-section">
                    <div class="admin-section-title">System Settings</div>
                    <div class="form-group">
                        <label class="form-label">Admin Password</label>
                        <input type="text" class="form-input" id="adminPasswordSetting" placeholder="Change admin password...">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Google Drive Folder ID</label>
                        <input type="text" class="form-input" id="gdriveFolderId" placeholder="Enter Google Drive folder ID...">
                        <small style="color: rgba(255, 255, 255, 0.6); font-size: 12px; margin-top: 8px; display: block;">
                            üìå To get Folder ID: Open your Google Drive folder ‚Üí Copy the ID from URL after /folders/<br>
                            Example: drive.google.com/drive/folders/<strong>1A2B3C4D5E6F</strong> ‚Üí Use <strong>1A2B3C4D5E6F</strong>
                        </small>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Notification Lead Time (days)</label>
                        <input type="number" class="form-input" id="notificationLeadTime" value="1" min="0" max="7">
                        <small style="color: rgba(255, 255, 255, 0.6); font-size: 12px; margin-top: 8px; display: block;">
                            Number of days before birthday to show notification
                        </small>
                    </div>
                    <button class="submit-btn" id="saveSettings">Save Settings</button>
                </div>

                <div class="admin-section">
                    <div class="admin-section-title">Manage Employees</div>
                    <div class="employee-list" id="employeeList"></div>
                </div>

                <div class="admin-section">
                    <div class="admin-section-title">Birthday Wishes Templates</div>
                    <div class="form-group">
                        <label class="form-label">Add New Wish Template</label>
                        <textarea class="form-textarea" id="newWishTemplate" placeholder="Add a new birthday wish template..."></textarea>
                    </div>
                    <button class="submit-btn" id="addWishTemplate">Add Template</button>
                    <div id="wishTemplatesList" style="margin-top: 20px;"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Gift Box Modal -->
    <div class="modal" id="giftBoxModal">
        <div class="modal-content">
            <button class="modal-close" id="closeGiftBox">√ó</button>
            <h2 class="modal-title">üéÅ Gift Collection</h2>
            <div id="giftBoxContent"></div>
        </div>
    </div>

    <!-- Birthday Party Mode -->
    <div class="party-mode" id="partyMode">
        <div class="party-content">
            <div class="party-title" id="partyTitle">HAPPY BIRTHDAY!</div>
            <img src="" alt="Birthday Person" class="party-photo" id="partyPhoto">
            <div class="party-message" id="partyMessage"></div>
            <button class="party-close" id="closeParty">Close Celebration</button>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification">
        <button class="notification-close" id="notificationClose">√ó</button>
        <div class="notification-title" id="notificationTitle">Notification</div>
        <div class="notification-body" id="notificationBody"></div>
        <div id="notificationLinks"></div>
    </div>

    <script>
        console.log('üöÄ RaakSapphire Birthday Protocol Loading...');

        // Data Storage
        let employees = JSON.parse(localStorage.getItem('raaksapphire_employees')) || [];
        let gifts = JSON.parse(localStorage.getItem('raaksapphire_gifts')) || [];
        let settings = JSON.parse(localStorage.getItem('raaksapphire_settings')) || {
            adminPassword: 'admin123',
            gdriveFolderId: '',
            notificationLeadTime: 1
        };
        let wishTemplates = JSON.parse(localStorage.getItem('raaksapphire_wishes')) || [
            "Wishing you a fantastic birthday filled with joy and success!",
            "May this special day bring you endless joy and tons of precious memories!",
            "Happy Birthday! Here's to another year of great achievements and wonderful moments!",
            "Celebrate today and enjoy your special day to the fullest!",
            "Sending you warm birthday wishes and lots of love on your special day!"
        ];

        // Current calendar state
        let currentMonth = new Date().getMonth();
        let currentYear = new Date().getFullYear();

        // Live Time
        function updateLiveTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('en-US', { hour12: false });
            document.getElementById('liveTime').textContent = timeString;
        }
        setInterval(updateLiveTime, 1000);
        updateLiveTime();

        // Modal Controls
        function openModal(modalId) {
            console.log('Opening modal:', modalId);
            const modal = document.getElementById(modalId);
            modal.classList.add('active');
            document.body.classList.add('modal-open');
        }

        function closeModal(modalId) {
            console.log('Closing modal:', modalId);
            const modal = document.getElementById(modalId);
            modal.classList.remove('active');
            document.body.classList.remove('modal-open');
        }

        // Google Drive Integration
        function updateGDriveStatus() {
            const indicator = document.getElementById('gdriveIndicator');
            const text = document.getElementById('gdriveText');
            
            if (settings.gdriveFolderId && settings.gdriveFolderId.length > 5) {
                indicator.classList.remove('disconnected');
                text.textContent = 'Drive Connected';
            } else {
                indicator.classList.add('disconnected');
                text.textContent = 'Setup Required';
            }
        }

        function uploadToGoogleDrive(dataType, data) {
            console.log(`üìÅ Uploading ${dataType} to Google Drive:`, data);
            
            const driveData = {
                type: dataType,
                data: data,
                timestamp: new Date().toISOString(),
                folderId: settings.gdriveFolderId || 'default-folder'
            };
            
            localStorage.setItem(`gdrive_${dataType}`, JSON.stringify(driveData));
            console.log('‚úì Data saved to simulated Google Drive');
            
            return driveData;
        }

        function getGoogleDriveLink(dataType) {
            const folderId = settings.gdriveFolderId || 'YOUR_FOLDER_ID';
            return `https://drive.google.com/drive/folders/${folderId}`;
        }

        // Show Notification with Google Drive link
        function showNotificationWithDrive(title, body, dataType) {
            const notification = document.getElementById('notification');
            const titleEl = document.getElementById('notificationTitle');
            const bodyEl = document.getElementById('notificationBody');
            const linksEl = document.getElementById('notificationLinks');
            
            titleEl.innerHTML = `‚úì ${title}`;
            bodyEl.textContent = body;
            
            const driveLink = getGoogleDriveLink(dataType);
            linksEl.innerHTML = `
                <a href="${driveLink}" target="_blank" class="notification-link">
                    üìÅ View in Google Drive
                </a>
            `;
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 6000);
        }

        // Show Notification (simple version)
        function showNotification(title, body) {
            const notification = document.getElementById('notification');
            const titleEl = document.getElementById('notificationTitle');
            const bodyEl = document.getElementById('notificationBody');
            const linksEl = document.getElementById('notificationLinks');
            
            titleEl.textContent = title;
            bodyEl.textContent = body;
            linksEl.innerHTML = '';
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 5000);
        }

        // Calendar Functions
        function renderCalendar() {
            const grid = document.getElementById('calendarGrid');
            const title = document.getElementById('calendarTitle');
            
            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
                              'July', 'August', 'September', 'October', 'November', 'December'];
            
            title.textContent = `${monthNames[currentMonth]} ${currentYear}`;
            
            grid.innerHTML = '';
            
            const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            days.forEach(day => {
                const header = document.createElement('div');
                header.className = 'calendar-day-header';
                header.textContent = day;
                grid.appendChild(header);
            });
            
            const firstDay = new Date(currentYear, currentMonth, 1).getDay();
            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
            
            for (let i = 0; i < firstDay; i++) {
                const empty = document.createElement('div');
                grid.appendChild(empty);
            }
            
            const today = new Date();
            for (let day = 1; day <= daysInMonth; day++) {
                const dayCell = document.createElement('div');
                dayCell.className = 'calendar-day';
                dayCell.textContent = day;
                
                if (day === today.getDate() && 
                    currentMonth === today.getMonth() && 
                    currentYear === today.getFullYear()) {
                    dayCell.classList.add('today');
                }
                
                const dateStr = `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                if (employees.some(emp => emp.birthday === dateStr)) {
                    dayCell.classList.add('birthday');
                }
                
                grid.appendChild(dayCell);
            }
        }

        // Render Birthday Feed
        function renderBirthdayFeed() {
            const feed = document.getElementById('birthdayFeed');
            feed.innerHTML = '';
            
            if (employees.length === 0) {
                feed.innerHTML = '<div style="grid-column: 1/-1; text-align: center; padding: 40px; color: var(--neon-cyan);">No birthdays added yet. Click "Add Birthday" to get started!</div>';
                return;
            }
            
            employees.forEach((emp) => {
                const card = document.createElement('div');
                card.className = 'birthday-card';
                
                const empGifts = gifts.filter(g => g.employeeId === emp.id);
                const giftsHTML = empGifts.length > 0 ? 
                    `<div class="gift-section">
                        ${empGifts.map(g => `<div class="gift-item">${g.type}: ${g.value}</div>`).join('')}
                    </div>` : '';
                
                card.innerHTML = `
                    <img src="${emp.photo || 'data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22120%22 height=%22120%22%3E%3Crect fill=%22%2300f3ff%22 width=%22120%22 height=%22120%22/%3E%3Ctext x=%2250%25%22 y=%2250%25%22 font-size=%2240%22 text-anchor=%22middle%22 dy=%22.3em%22%3Eüë§%3C/text%3E%3C/svg%3E'}" class="birthday-photo" alt="${emp.name}">
                    <div class="birthday-name">${emp.name}</div>
                    <div class="birthday-date">üéÇ ${new Date(emp.birthday).toLocaleDateString('en-US', { month: 'long', day: 'numeric' })}</div>
                    <div class="birthday-wishes">${emp.wish || wishTemplates[Math.floor(Math.random() * wishTemplates.length)]}</div>
                    ${giftsHTML}
                `;
                
                const today = new Date().toISOString().split('T')[0];
                if (emp.birthday === today) {
                    card.addEventListener('click', () => startBirthdayParty(emp));
                    card.style.cursor = 'pointer';
                    card.style.borderColor = 'var(--neon-yellow)';
                }
                
                feed.appendChild(card);
            });
        }

        // Birthday Party Mode
        function startBirthdayParty(employee) {
            const partyMode = document.getElementById('partyMode');
            document.getElementById('partyTitle').textContent = `HAPPY BIRTHDAY ${employee.name.toUpperCase()}! üéâ`;
            document.getElementById('partyPhoto').src = employee.photo || '';
            document.getElementById('partyMessage').textContent = employee.wish || wishTemplates[0];
            
            partyMode.classList.add('active');
            
            triggerCelebration();
            playBirthdayAudio(employee.name);
        }

        // Celebration Effects
        function triggerCelebration() {
            const flowers = ['üå∏', 'üå∫', 'üåº', 'üåª', 'üå∑', 'üíê', 'üåπ'];
            
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.className = 'celebration-particle flower-particle';
                    particle.textContent = flowers[Math.floor(Math.random() * flowers.length)];
                    particle.style.left = Math.random() * window.innerWidth + 'px';
                    particle.style.top = Math.random() * window.innerHeight + 'px';
                    particle.style.setProperty('--tx', (Math.random() - 0.5) * 400 + 'px');
                    particle.style.setProperty('--ty', (Math.random() - 0.5) * 400 + 'px');
                    document.body.appendChild(particle);
                    
                    setTimeout(() => particle.remove(), 2000);
                }, i * 50);
            }
            
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const star = document.createElement('div');
                    star.className = 'celebration-particle star-particle';
                    star.style.left = Math.random() * window.innerWidth + 'px';
                    star.style.top = Math.random() * window.innerHeight + 'px';
                    star.style.setProperty('--tx', (Math.random() - 0.5) * 500 + 'px');
                    star.style.setProperty('--ty', (Math.random() - 0.5) * 500 + 'px');
                    document.body.appendChild(star);
                    
                    setTimeout(() => star.remove(), 1500);
                }, i * 30);
            }
        }

        // Play Birthday Audio
        function playBirthdayAudio(name) {
            const utterance = new SpeechSynthesisUtterance(`Happy Birthday ${name}! Wishing you an amazing year ahead filled with success and joy!`);
            utterance.rate = 0.9;
            utterance.pitch = 1.1;
            window.speechSynthesis.speak(utterance);
        }

        // Check for upcoming birthdays
        function checkUpcomingBirthdays() {
            const today = new Date();
            const tomorrow = new Date(today);
            tomorrow.setDate(tomorrow.getDate() + settings.notificationLeadTime);
            
            const tomorrowStr = tomorrow.toISOString().split('T')[0];
            
            employees.forEach(emp => {
                if (emp.birthday === tomorrowStr) {
                    showNotification(
                        'üéÇ Upcoming Birthday!',
                        `${emp.name}'s birthday is ${settings.notificationLeadTime === 1 ? 'tomorrow' : `in ${settings.notificationLeadTime} days`}! Don't forget to wish them well!`
                    );
                }
            });

            const todayStr = today.toISOString().split('T')[0];
            const todayBirthdays = employees.filter(emp => emp.birthday === todayStr);
            
            if (todayBirthdays.length > 0) {
                todayBirthdays.forEach(emp => {
                    showNotification(
                        'üéâ Birthday Today!',
                        `It's ${emp.name}'s birthday today! Click on their card to celebrate!`
                    );
                });
            }
        }

        // Update employee selects
        function updateEmployeeSelects() {
            const selects = ['photoEmployee', 'giftEmployee'];
            selects.forEach(selectId => {
                const select = document.getElementById(selectId);
                select.innerHTML = '<option value="">Choose employee...</option>';
                employees.forEach(emp => {
                    const option = document.createElement('option');
                    option.value = emp.id;
                    option.textContent = emp.name;
                    select.appendChild(option);
                });
            });
        }

        // Render Gift Box
        function renderGiftBox() {
            const content = document.getElementById('giftBoxContent');
            
            if (gifts.length === 0) {
                content.innerHTML = '<div style="text-align: center; padding: 40px; color: var(--neon-cyan);">No gifts yet! Send some digital gifts to your colleagues!</div>';
                return;
            }
            
            content.innerHTML = gifts.map(gift => {
                const employee = employees.find(e => e.id === gift.employeeId);
                return `
                    <div class="employee-item">
                        <div>
                            <strong>${employee ? employee.name : 'Unknown'}</strong><br>
                            <small>From: ${gift.sender} | ${gift.type}: ${gift.value}</small>
                        </div>
                        <div style="color: var(--neon-yellow);">${new Date(gift.date).toLocaleDateString()}</div>
                    </div>
                `;
            }).join('');
        }

        // Render Admin Panel
        function renderAdminPanel() {
            console.log('Rendering admin panel');
            document.getElementById('adminPasswordSetting').value = settings.adminPassword;
            document.getElementById('gdriveFolderId').value = settings.gdriveFolderId;
            document.getElementById('notificationLeadTime').value = settings.notificationLeadTime;
            
            const employeeList = document.getElementById('employeeList');
            if (employees.length === 0) {
                employeeList.innerHTML = '<div style="padding: 20px; text-align: center; color: var(--neon-cyan);">No employees added yet.</div>';
            } else {
                employeeList.innerHTML = employees.map(emp => `
                    <div class="employee-item">
                        <div>
                            <strong style="color: var(--neon-cyan);">${emp.name}</strong><br>
                            <small style="color: rgba(255, 255, 255, 0.7);">${new Date(emp.birthday).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}</small>
                        </div>
                        <button class="delete-btn" onclick="deleteEmployee(${emp.id})">Delete</button>
                    </div>
                `).join('');
            }
            
            const templatesList = document.getElementById('wishTemplatesList');
            templatesList.innerHTML = wishTemplates.map((wish, index) => `
                <div class="employee-item" style="margin-bottom: 10px;">
                    <div style="color: rgba(255, 255, 255, 0.9);">${wish}</div>
                    <button class="delete-btn" onclick="deleteWishTemplate(${index})">Delete</button>
                </div>
            `).join('');
            
            console.log('Admin panel rendered successfully');
        }

        window.deleteEmployee = function(id) {
            console.log('Deleting employee:', id);
            if (confirm('Are you sure you want to delete this employee?')) {
                employees = employees.filter(e => e.id !== id);
                localStorage.setItem('raaksapphire_employees', JSON.stringify(employees));
                
                uploadToGoogleDrive('employees', employees);
                
                renderAdminPanel();
                renderBirthdayFeed();
                renderCalendar();
                updateEmployeeSelects();
                showNotification('Deleted', 'Employee removed from the system.');
            }
        };

        window.deleteWishTemplate = function(index) {
            console.log('Deleting wish template:', index);
            if (confirm('Are you sure you want to delete this wish template?')) {
                wishTemplates.splice(index, 1);
                localStorage.setItem('raaksapphire_wishes', JSON.stringify(wishTemplates));
                
                uploadToGoogleDrive('wishes', wishTemplates);
                
                renderAdminPanel();
                showNotification('Deleted', 'Wish template removed.');
            }
        };

        // Setup all event listeners
        function setupEventListeners() {
            console.log('Setting up event listeners...');
            
            // Modal backdrop clicks
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        closeModal(this.id);
                    }
                });
            });

            // Add Birthday
            document.getElementById('addBirthdayBtn').addEventListener('click', () => {
                console.log('‚úì Add Birthday button clicked');
                openModal('addBirthdayModal');
            });
            
            document.getElementById('closeAddBirthday').addEventListener('click', () => {
                closeModal('addBirthdayModal');
            });

            document.getElementById('birthdayPhoto').addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const preview = document.getElementById('photoPreview');
                        preview.src = e.target.result;
                        preview.style.display = 'block';
                    };
                    reader.readAsDataURL(file);
                }
            });

            document.getElementById('addBirthdayForm').addEventListener('submit', function(e) {
                e.preventDefault();
                console.log('‚úì Add Birthday form submitted');
                
                const name = document.getElementById('employeeName').value;
                const birthday = document.getElementById('birthdayDate').value;
                const wish = document.getElementById('birthdayWish').value;
                const photoPreview = document.getElementById('photoPreview');
                
                if (!name || !birthday) {
                    showNotification('Error', 'Please fill in all required fields.');
                    return;
                }
                
                const newEmployee = {
                    id: Date.now(),
                    name: name,
                    birthday: birthday,
                    wish: wish || wishTemplates[Math.floor(Math.random() * wishTemplates.length)],
                    photo: photoPreview.src !== window.location.href ? photoPreview.src : '',
                    addedDate: new Date().toISOString()
                };
                
                employees.push(newEmployee);
                localStorage.setItem('raaksapphire_employees', JSON.stringify(employees));
                
                uploadToGoogleDrive('employees', employees);
                
                renderBirthdayFeed();
                renderCalendar();
                updateEmployeeSelects();
                
                closeModal('addBirthdayModal');
                this.reset();
                photoPreview.style.display = 'none';
                photoPreview.src = '';
                
                showNotificationWithDrive('Birthday Added Successfully! üéâ', `${name}'s birthday has been added to the protocol and uploaded to Google Drive!`, 'employees');
            });

            // Upload Photo
            document.getElementById('uploadPhotoBtn').addEventListener('click', () => {
                console.log('‚úì Upload Photo button clicked');
                updateEmployeeSelects();
                openModal('uploadPhotoModal');
            });
            
            document.getElementById('closeUploadPhoto').addEventListener('click', () => {
                closeModal('uploadPhotoModal');
            });

            document.getElementById('celebrationPhoto').addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const preview = document.getElementById('celebrationPreview');
                        preview.src = e.target.result;
                        preview.style.display = 'block';
                    };
                    reader.readAsDataURL(file);
                }
            });

            document.getElementById('uploadPhotoForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const employeeId = parseInt(document.getElementById('photoEmployee').value);
                const caption = document.getElementById('photoCaption').value;
                const photoPreview = document.getElementById('celebrationPreview');
                
                if (!employeeId) {
                    showNotification('Error', 'Please select an employee.');
                    return;
                }
                
                if (!photoPreview.src || photoPreview.src === window.location.href) {
                    showNotification('Error', 'Please upload a photo.');
                    return;
                }
                
                const celebrationPhoto = {
                    id: Date.now(),
                    employeeId: employeeId,
                    photo: photoPreview.src,
                    caption: caption,
                    uploadDate: new Date().toISOString()
                };
                
                let celebrationPhotos = JSON.parse(localStorage.getItem('raaksapphire_photos')) || [];
                celebrationPhotos.push(celebrationPhoto);
                localStorage.setItem('raaksapphire_photos', JSON.stringify(celebrationPhotos));
                
                uploadToGoogleDrive('celebration_photos', celebrationPhotos);
                
                const employee = employees.find(e => e.id === employeeId);
                
                showNotificationWithDrive('Photo Uploaded Successfully! üì∏', `Celebration photo for ${employee.name} has been uploaded to Google Drive!`, 'celebration_photos');
                
                closeModal('uploadPhotoModal');
                this.reset();
                photoPreview.style.display = 'none';
                photoPreview.src = '';
            });

            // Send Gift
            document.getElementById('sendGiftBtn').addEventListener('click', () => {
                console.log('‚úì Send Gift button clicked');
                updateEmployeeSelects();
                openModal('sendGiftModal');
            });
            
            document.getElementById('closeSendGift').addEventListener('click', () => {
                closeModal('sendGiftModal');
            });

            document.getElementById('sendGiftForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const employeeId = parseInt(document.getElementById('giftEmployee').value);
                const type = document.getElementById('giftType').value;
                const value = document.getElementById('giftValue').value;
                const sender = document.getElementById('giftSender').value;
                
                if (!employeeId || !type || !sender) {
                    showNotification('Error', 'Please fill in all required fields.');
                    return;
                }
                
                const newGift = {
                    id: Date.now(),
                    employeeId: employeeId,
                    type: type,
                    value: value || 'Digital Gift',
                    sender: sender,
                    date: new Date().toISOString()
                };
                
                gifts.push(newGift);
                localStorage.setItem('raaksapphire_gifts', JSON.stringify(gifts));
                
                uploadToGoogleDrive('gifts', gifts);
                
                renderBirthdayFeed();
                
                const employee = employees.find(e => e.id === employeeId);
                showNotificationWithDrive('Gift Sent Successfully! üéÅ', `Your ${type} has been sent to ${employee.name} and saved to Google Drive!`, 'gifts');
                
                closeModal('sendGiftModal');
                this.reset();
            });

            // Gift Box
            document.getElementById('giftBox').addEventListener('click', () => {
                renderGiftBox();
                openModal('giftBoxModal');
            });
            
            document.getElementById('viewGiftsBtn').addEventListener('click', () => {
                renderGiftBox();
                openModal('giftBoxModal');
            });
            
            document.getElementById('closeGiftBox').addEventListener('click', () => {
                closeModal('giftBoxModal');
            });

            // Admin Panel
            document.getElementById('adminLock').addEventListener('click', () => {
                console.log('‚úì Admin lock clicked');
                openModal('adminLoginModal');
            });
            
            document.getElementById('closeAdminLogin').addEventListener('click', () => {
                closeModal('adminLoginModal');
            });
            
            document.getElementById('closeAdminDashboard').addEventListener('click', () => {
                closeModal('adminDashboard');
            });

            document.getElementById('adminLoginForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const password = document.getElementById('adminPassword').value;
                
                if (password === settings.adminPassword) {
                    console.log('‚úì Admin access granted');
                    closeModal('adminLoginModal');
                    openModal('adminDashboard');
                    renderAdminPanel();
                    this.reset();
                } else {
                    showNotification('Access Denied', 'Incorrect password!');
                }
            });

            document.getElementById('saveSettings').addEventListener('click', function() {
                const newPassword = document.getElementById('adminPasswordSetting').value;
                const newFolderId = document.getElementById('gdriveFolderId').value;
                const newLeadTime = parseInt(document.getElementById('notificationLeadTime').value);
                
                settings.adminPassword = newPassword;
                settings.gdriveFolderId = newFolderId;
                settings.notificationLeadTime = newLeadTime;
                
                localStorage.setItem('raaksapphire_settings', JSON.stringify(settings));
                
                updateGDriveStatus();
                uploadToGoogleDrive('settings', settings);
                
                showNotificationWithDrive('Settings Saved!', 'Your settings have been updated successfully!', 'settings');
            });

            document.getElementById('addWishTemplate').addEventListener('click', function() {
                const newTemplate = document.getElementById('newWishTemplate').value;
                if (newTemplate.trim()) {
                    wishTemplates.push(newTemplate);
                    localStorage.setItem('raaksapphire_wishes', JSON.stringify(wishTemplates));
                    document.getElementById('newWishTemplate').value = '';
                    
                    uploadToGoogleDrive('wishes', wishTemplates);
                    
                    renderAdminPanel();
                    showNotificationWithDrive('Template Added!', 'New wish template has been added!', 'wishes');
                } else {
                    showNotification('Error', 'Please enter a wish template.');
                }
            });

            // Calendar navigation
            document.getElementById('prevMonth').addEventListener('click', () => {
                currentMonth--;
                if (currentMonth < 0) {
                    currentMonth = 11;
                    currentYear--;
                }
                renderCalendar();
            });

            document.getElementById('nextMonth').addEventListener('click', () => {
                currentMonth++;
                if (currentMonth > 11) {
                    currentMonth = 0;
                    currentYear++;
                }
                renderCalendar();
            });

            // Notification close button
            document.getElementById('notificationClose').addEventListener('click', () => {
                document.getElementById('notification').classList.remove('show');
            });

            // Party mode close
            document.getElementById('closeParty').addEventListener('click', () => {
                document.getElementById('partyMode').classList.remove('active');
            });

            // Google Drive status click
            document.getElementById('gdriveStatus').addEventListener('click', () => {
                openModal('adminLoginModal');
            });

            console.log('‚úì All event listeners set up successfully!');
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            console.log('‚úì DOM Content Loaded - Initializing...');
            
            renderCalendar();
            renderBirthdayFeed();
            updateEmployeeSelects();
            updateGDriveStatus();
            setupEventListeners();
            
            setTimeout(checkUpcomingBirthdays, 2000);
            setInterval(checkUpcomingBirthdays, 3600000);
            
            console.log('‚úì Initialization complete!');
            console.log('üìä Current data:', { employees: employees.length, gifts: gifts.length });
        });
    </script>
</body>
</html>
